<!DOCTYPE html>
        <html>
        <head>
            <meta charset="UTF-8">
            <title>Extension WanApply</title>
            <style>
/* From extension vscode.github */
/*---------------------------------------------------------------------------------------------
 *  Copyright (c) Microsoft Corporation. All rights reserved.
 *  Licensed under the MIT License. See License.txt in the project root for license information.
 *--------------------------------------------------------------------------------------------*/

.vscode-dark img[src$=\#gh-light-mode-only],
.vscode-light img[src$=\#gh-dark-mode-only],
.vscode-high-contrast:not(.vscode-high-contrast-light) img[src$=\#gh-light-mode-only],
.vscode-high-contrast-light img[src$=\#gh-dark-mode-only] {
	display: none;
}

</style>
            
        <link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/markdown.css">
<link rel="stylesheet" href="https://cdn.jsdelivr.net/gh/Microsoft/vscode/extensions/markdown-language-features/media/highlight.css">
<style>
            body {
                font-family: -apple-system, BlinkMacSystemFont, 'Segoe WPC', 'Segoe UI', system-ui, 'Ubuntu', 'Droid Sans', sans-serif;
                font-size: 14px;
                line-height: 1.6;
            }
        </style>
        <style>
.task-list-item {
    list-style-type: none;
}

.task-list-item-checkbox {
    margin-left: -20px;
    vertical-align: middle;
    pointer-events: none;
}
</style>
<style>
:root {
  --color-note: #0969da;
  --color-tip: #1a7f37;
  --color-warning: #9a6700;
  --color-severe: #bc4c00;
  --color-caution: #d1242f;
  --color-important: #8250df;
}

</style>
<style>
@media (prefers-color-scheme: dark) {
  :root {
    --color-note: #2f81f7;
    --color-tip: #3fb950;
    --color-warning: #d29922;
    --color-severe: #db6d28;
    --color-caution: #f85149;
    --color-important: #a371f7;
  }
}

</style>
<style>
.markdown-alert {
  padding: 0.5rem 1rem;
  margin-bottom: 16px;
  color: inherit;
  border-left: .25em solid #888;
}

.markdown-alert>:first-child {
  margin-top: 0
}

.markdown-alert>:last-child {
  margin-bottom: 0
}

.markdown-alert .markdown-alert-title {
  display: flex;
  font-weight: 500;
  align-items: center;
  line-height: 1
}

.markdown-alert .markdown-alert-title .octicon {
  margin-right: 0.5rem;
  display: inline-block;
  overflow: visible !important;
  vertical-align: text-bottom;
  fill: currentColor;
}

.markdown-alert.markdown-alert-note {
  border-left-color: var(--color-note);
}

.markdown-alert.markdown-alert-note .markdown-alert-title {
  color: var(--color-note);
}

.markdown-alert.markdown-alert-important {
  border-left-color: var(--color-important);
}

.markdown-alert.markdown-alert-important .markdown-alert-title {
  color: var(--color-important);
}

.markdown-alert.markdown-alert-warning {
  border-left-color: var(--color-warning);
}

.markdown-alert.markdown-alert-warning .markdown-alert-title {
  color: var(--color-warning);
}

.markdown-alert.markdown-alert-tip {
  border-left-color: var(--color-tip);
}

.markdown-alert.markdown-alert-tip .markdown-alert-title {
  color: var(--color-tip);
}

.markdown-alert.markdown-alert-caution {
  border-left-color: var(--color-caution);
}

.markdown-alert.markdown-alert-caution .markdown-alert-title {
  color: var(--color-caution);
}

</style>
        
        </head>
        <body class="vscode-body vscode-light">
            <h1 id="extension-wanapply-">Extension WanApply <!-- omit in toc --></h1>
<p>Les anglophones ne parlent pas de lettrage mais d'appliquer (to Apply) des écritures les unes aux autres. La traduction de Business Central a retenu <strong>Lettrage</strong> dont l'éthimologie est ici paradoxale (voir <a href="https://www.wanamics.fr/code-lettrage-enfin">Code lettrage... enfin - Wanamics</a>).</p>
<p>Cette extension complète les fonctions standards de lettrage des
écritures clients,  écritures fournisseurs et écritures salariés.</p>
<blockquote>
<p>Ce n’est que l’une des extensions gracieusement mises à votre disposition (voir <a href="https://www.wanamics.fr/extensions-business-central/Extensions">Extensions - Wanamics</a>).<br>
Vous pouvez donc en disposer librement dans le cadre de la licence open source qui vous est accordée (voir <a href="https://www.wanamics.fr/licence-open-source/">Licence Open Source - Wanamics</a>).</p>
</blockquote>
<p>Voir aussi :</p>
<ul>
<li>
<p><a href="https://www.wanamics.fr/lettrage-a-posteriori/">Lettrage à posteriori - Wanamics</a></p>
</li>
<li>
<p><a href="https://www.wanamics.fr/paiement-a-la-commande-et-lettrage/">Paiement à la commande et lettrage - Wanamics</a></p>
</li>
</ul>
<h3 id="sommaire">Sommaire</h3>
<ul>
<li><a href="#%C3%A9critures-comptables-clients-fournisseurs-et-salari%C3%A9s">Écritures comptables clients, fournisseurs et salariés</a></li>
<li><a href="#%C3%A9critures-comptables-clients">Écritures comptables clients</a>
<ul>
<li><a href="#colonnes">Colonnes</a></li>
<li><a href="#actions">Actions</a></li>
</ul>
</li>
<li><a href="#feuille-r%C3%A8glement">Feuille règlement</a>
<ul>
<li><a href="#actions-1">Actions</a></li>
</ul>
</li>
<li><a href="#traitements-appliquer-id-lettrage">Traitements Appliquer ID Lettrage...</a></li>
<li><a href="#apis">APIs</a>
<ul>
<li><a href="#custappliedledgerentries">custAppliedLedgerEntries</a></li>
</ul>
</li>
<li><a href="#outils-dadministration">Outils d'administration</a></li>
</ul>
<h2 id="écritures-comptables-clients-fournisseurs-et-salariés">Écritures comptables clients, fournisseurs et salariés</h2>
<ul>
<li>La colonne <strong>Code lettrage</strong> est ajoutée (voir <a href="https://www.wanamics.fr/code-lettrage-enfin">Code lettrage... enfin - Wanamics</a>)</li>
</ul>
<h2 id="écritures-comptables-clients">Écritures comptables clients</h2>
<h3 id="colonnes">Colonnes</h3>
<ul>
<li><strong>ID lettrage</strong> est ajouté. Il pourra être saisi pour un lettrage 'à l'ancienne' par un même code (à votre convenance) sur les écritures à lettrer entre elles (voir action Appliquer lettrage)
<ul>
<li>Remarque : ce champ standard est habituellement utilisé via les feuille de saisie (ex : en particulier Feuilles règlements, et Feuilles paiement) via l'action <strong>Ecritures ouvertes</strong>.</li>
</ul>
</li>
</ul>
<h3 id="actions">Actions</h3>
<ul>
<li><strong>Transférer</strong><br>
Permet de 'rectifier' la <strong>Date comptabilisation</strong>, le <strong>N° client</strong> ou les imputations analytiques des 2 axes principaux, en contrepassant l'écriture d'origine par ces nouvelles informations.
<ul>
<li>Une confirmation est demandée.</li>
<li>Plusieurs écritures peuvent être sélectionnées et se verront appliquer les mêmes modifications.</li>
<li>Les écritures concernées ne doivent pas relever de la TVA sur encaissements.</li>
<li>Les écritures concernées ne doivent pas être lettrées (même partiellement) et ne pas avoir été déjà contrepassées.</li>
<li>L'écriture d'origine et sa contrepassation sont lettrées entre elles (étant marquées <strong>Contre-passé</strong> elles ne pourront être de nouveau transférées).</li>
<li>Si la <strong>Date comptabilisation</strong> est modifiée, elle est reprise pour l'écriture de contrepassation comme pour la nouvelle (faute de quoi l'opération de serait pas équilibrée à date).</li>
<li>La <strong>Description</strong> de l'écriture de contrepassation est suffixée '-', celle de la nouvelle est suffixée '+'.</li>
<li>Le <strong>N° séquence lettrage final</strong> sera celui de de l'écriture la plus récente, de même que la <strong>Date lettrage</strong>.</li>
</ul>
</li>
<li><strong>Appliquer lettrage</strong><br>
Voir <a href="#traitements-appliquer-id-lettrage">Appliquer ID lettrage</a></li>
<li><strong>Clôturer par P &amp; P</strong><br>
Valide une écriture venant solder et lettrer le <strong>Montant restant</strong> de chacune des écritures sélectionnées (le <strong>Groupe compta. client</strong> est complété à cet effet des <strong>N° compte P &amp; P débit</strong> et <strong>N° compte P &amp; P crédit</strong>).</li>
</ul>
<h2 id="feuille-règlement">Feuille règlement</h2>
<h3 id="actions-1">Actions</h3>
<ul>
<li>
<p><strong>Proposer écarts de règlementpar montant ouvert</strong><br>
Propose de solder les écritures dont le montant ouvert est 'faible' (ex : -0,05..0,05).<br>
Le <strong>N° compte contrepartie</strong> reprend le Compte écart règlement associé au <strong>Groupe compta client</strong>.</p>
</li>
<li>
<p><strong>Proposer écarts de règlement par ID lettrage</strong><br>
Propose de solder et lettrer les écritures de même de même <strong>ID lettrage</strong>, <strong>Code devise</strong> et <strong>Groupe compta</strong> dont le montant ouvert est inférieur au montant indiqué (le <strong>Montant écart règlement max.</strong> défini en <strong>Paramètres comptabilité</strong> est proposé).<br>
Le <strong>N° compte contrepartie</strong> reprend le Compte écart règlement associé au <strong>Groupe compta client</strong>.</p>
</li>
</ul>
<h2 id="traitements-appliquer-id-lettrage">Traitements Appliquer ID Lettrage...</h2>
<p>Ce traitement peut concerner les clients, les fournisseurs ou les salariés.</p>
<p>Si, au sein d'un même compte, le total du <strong>Montant ouvert</strong> des écritures de même <strong>ID lettrage</strong>, <strong>Code devise</strong> et <strong>Groupe compta</strong> est nul, elles sont lettrées entre elles.</p>
<p>Ces traitements seront particulièrement utiles suite à une reprise de données (Voir <a href="https://www.wanamics.fr/wanastart">WanaStart - Wanamics</a>).</p>
<h2 id="apis">APIs</h2>
<p>Pour mémoire, la syntaxe d'un endpoint est la suivante :</p>
<pre><code>{{apiRoute}}/{{tenantID}}/{{environment}}/api/{{apiPublisher}}/{{apiGroup}}/{{apiVersion}}/companies({{companyID}})/{entitySetName}
</code></pre>
<h3 id="custappliedledgerentries">custAppliedLedgerEntries</h3>
<p>Permet aux application tierces (ex : e-commerce, facturation extene...) d'être informé du règlement des factures.</p>
<pre><code>    APIGroup = 'wanApply';
    APIPublisher = 'Wanamics';
    APIVersion = 'v1.0';
    EntityName = 'custAppliedLedgerEntry';
    EntitySetName = 'custAppliedLedgerEntries';
</code></pre>
<h2 id="outils-dadministration">Outils d'administration</h2>
<ul>
<li>?Report=87476 &quot;Apply Applies-to ID/Cust.Inv.&quot;<br>
Recherche pour chaque <strong>Ecriture client</strong> de la sélection dont <strong>ID lettrage</strong> est non vide, les écritures de même <strong>ID lettrage</strong> à lettrer, même partiellement.</li>
</ul>

            
            
        </body>
        </html>